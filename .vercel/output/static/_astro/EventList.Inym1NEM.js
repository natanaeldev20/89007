import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{a as f}from"./index.NIGUFBhG.js";import{P as h}from"./index.Bybgw_eu.js";import{G as u}from"./iconBase.BO9dh9lf.js";import{F as v}from"./index.BgMt9673.js";import{r as i}from"./index.BJfUAbRs.js";const y="https://cpanel89007.vercel.app",p=async()=>{try{const{data:a}=await f.get(`${y}/api/school-events/latest`);if(!Array.isArray(a.events))throw new Error("Respuesta invalida del servidor");return a.events}catch{throw new Error("No se pudo obtener los eventos")}};function j(a){return u({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(a)}const w=({title:a,description:r,imageUrl:t,startDate:o,endDate:l,createdAt:s,location:n})=>e.jsxs("article",{className:"w-full bg-white shadow-[0_1px_3px_rgba(0,0,0,0.1),_0_1px_2px_rgba(0,0,0,0.06)] overflow-hidden sm:rounded-xl",children:[e.jsxs("header",{className:"w-full p-3 flex flex-row items-center gap-3",children:[e.jsxs("figure",{className:"bg-white w-[3.5rem] h-[3.5rem] p-1 flex items-center justify-center rounded-full aspect-square border-2 border-[#e2e4e7]",children:[e.jsx("img",{className:"w-full max-w-[1.8rem]",src:"logo.PNG",alt:"Logo de la Institución Educativa N.º 89007"}),e.jsx("figcaption",{className:"sr-only"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("h4",{className:"font-semibold text-base flex flex-row items-center gap-1",children:["Institución Educativa N.º 89007",e.jsx(h,{color:"#0866ff",width:16,height:16})]}),e.jsxs("span",{className:"text-gray-500 text-sm font-semibold",children:["Publicado el"," ",new Date(s).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"})]})]})]}),e.jsx("img",{src:t,alt:a,className:"w-full"}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl text-89007 font-semibold mb-2",children:a}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:r}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(v,{color:"#000",size:20})," ",new Date(o).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"})]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(j,{color:"#000",size:20})," ",n]})]})]})]}),N=()=>e.jsx("div",{className:"space-y-6",children:Array.from({length:3}).map((a,r)=>e.jsxs("div",{className:"overflow-hidden rounded-2xl bg-white shadow-lg animate-pulse",children:[e.jsx("div",{className:"h-56 w-full bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"}),e.jsxs("div",{className:"space-y-4 p-6",children:[e.jsx("div",{className:"h-5 w-24 rounded-full bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"}),e.jsx("div",{className:"h-7 w-3/4 rounded-md bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 w-full rounded bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"}),e.jsx("div",{className:"h-4 w-5/6 rounded bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"}),e.jsx("div",{className:"h-4 w-2/3 rounded bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("div",{className:"h-9 w-24 rounded-xl bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"}),e.jsx("div",{className:"h-9 w-20 rounded-xl bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"})]})]})]},r))}),D=()=>{const[a,r]=i.useState([]),[t,o]=i.useState(!1);return i.useEffect(()=>{(async()=>{o(!t);try{const s=await p();r(s)}catch(s){throw console.error(s),new Error("Error al obtener los eventos")}finally{o(!1)}})()},[]),t?e.jsx(N,{}):e.jsx(e.Fragment,{children:a.map(({id:l,title:s,description:n,location:c,startDate:d,endDate:m,createdAt:g,imageUrl:x})=>e.jsx(w,{title:s,description:n,location:c,startDate:d,endDate:m,createdAt:g,imageUrl:x},l))})};export{D as default};
