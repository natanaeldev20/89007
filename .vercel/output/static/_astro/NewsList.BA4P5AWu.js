import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{a as d}from"./index.NIGUFBhG.js";import{P as x}from"./index.Bybgw_eu.js";import{r as o}from"./index.BJfUAbRs.js";import"./iconBase.BO9dh9lf.js";const f="https://cpanel89007.vercel.app",p=async()=>{try{const{data:s}=await d.get(`${f}/api/school-news/latest`);if(!Array.isArray(s.news))throw new Error("Respuesta invalida del servidor");return s.news}catch(s){throw console.error("Error al obtener las noticias: ",s),new Error("No se pudo obtener las noticias")}},w=({title:s,description:l,publicationDate:a,url:t})=>e.jsxs("article",{className:"w-full bg-white shadow-[0_1px_3px_rgba(0,0,0,0.1),_0_1px_2px_rgba(0,0,0,0.06)] sm:rounded-xl",children:[e.jsxs("header",{className:"w-full p-3 flex flex-row items-center gap-3",children:[e.jsxs("figure",{className:"bg-white w-[3.5rem] h-[3.5rem] p-1 flex items-center justify-center rounded-full aspect-square border-2 border-[#e2e4e7]",children:[e.jsx("img",{className:"w-full max-w-[1.8rem]",src:"logo.PNG",alt:"Logo de la Institución Educativa N.º 89007"}),e.jsx("figcaption",{className:"sr-only",children:s})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("h4",{className:"font-semibold text-base flex flex-row items-center gap-1",children:["Institución Educativa N.º 89007",e.jsx(x,{color:"#0866ff",width:16,height:16})]}),e.jsxs("span",{className:"text-gray-500 text-sm font-semibold",children:["Publicado el"," ",new Date(a).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"})]})]})]}),e.jsx("img",{src:t,alt:s,className:"w-full"}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-semibold text-[#039fcf] mb-2",children:s}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:l})]})]}),b=()=>{const[s,l]=o.useState([]),[a,t]=o.useState(!1);return o.useEffect(()=>{t(!a),(async()=>{try{const r=await p();l(r)}catch(r){throw console.error(r),new Error("Error al obtener las noticias")}finally{t(!1)}})()},[]),a?e.jsx("p",{children:"Cargando noticias..."}):e.jsx(e.Fragment,{children:s.map(({id:n,title:r,content:c,imageUrl:i,publishedAt:m})=>e.jsx(w,{title:r,description:c,url:i,publicationDate:m},n))})};export{b as default};
