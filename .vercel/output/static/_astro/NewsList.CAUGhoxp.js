import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{a as m}from"./index.NIGUFBhG.js";import{P as g}from"./index.Bybgw_eu.js";import{r as l}from"./index.BJfUAbRs.js";import"./iconBase.BO9dh9lf.js";const x="https://cpanel89007.vercel.app",f=async()=>{try{const{data:r}=await m.get(`${x}/api/school-news/latest`);if(!Array.isArray(r.news))throw new Error("Respuesta invalida del servidor");return r.news}catch(r){throw console.error("Error al obtener las noticias: ",r),new Error("No se pudo obtener las noticias")}},h=({title:r,description:a,publicationDate:t,url:o})=>e.jsx(e.Fragment,{children:e.jsxs("article",{className:"w-full bg-white shadow-[0_1px_3px_rgba(0,0,0,0.1),_0_1px_2px_rgba(0,0,0,0.06)] sm:rounded-xl",children:[e.jsxs("header",{className:"w-full p-3 flex flex-row items-center gap-3",children:[e.jsxs("figure",{className:"bg-white cursor-pointer w-[3.5rem] h-[3.5rem] p-1 flex items-center justify-center rounded-full aspect-square border-2 border-[#e2e4e7]",children:[e.jsx("img",{className:"w-full max-w-[1.8rem]",src:"logo.PNG",alt:"Logo de la Institución Educativa N.º 89007"}),e.jsx("figcaption",{className:"sr-only",children:r})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("h4",{className:"font-semibold text-base flex flex-row items-center gap-1",children:["Institución Educativa N.º 89007",e.jsx(g,{color:"#0866ff",width:16,height:16})]}),e.jsxs("span",{className:"text-gray-500 text-sm font-semibold",children:["Publicado el"," ",new Date(t).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"})]})]})]}),e.jsx("img",{src:o,alt:r,className:"w-full"}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-semibold text-[#039fcf] mb-2",children:r}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:a})]})]})}),u=()=>e.jsx("div",{className:"space-y-6",children:Array.from({length:3}).map((r,a)=>e.jsxs("div",{className:"overflow-hidden rounded-2xl bg-white shadow-lg animate-pulse",children:[e.jsx("div",{className:"h-56 w-full bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"}),e.jsxs("div",{className:"space-y-4 p-6",children:[e.jsx("div",{className:"h-5 w-24 rounded-full bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"}),e.jsx("div",{className:"h-7 w-3/4 rounded-md bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 w-full rounded bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"}),e.jsx("div",{className:"h-4 w-5/6 rounded bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"}),e.jsx("div",{className:"h-4 w-2/3 rounded bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("div",{className:"h-9 w-24 rounded-xl bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"}),e.jsx("div",{className:"h-9 w-20 rounded-xl bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200"})]})]})]},a))}),v=()=>{const[r,a]=l.useState([]),[t,o]=l.useState(!1);return l.useEffect(()=>{o(!t),(async()=>{try{const s=await f();a(s)}catch(s){throw console.error(s),new Error("Error al obtener las noticias")}finally{o(!1)}})()},[]),t?e.jsx(u,{}):e.jsx(e.Fragment,{children:r.map(({id:i,title:s,content:n,imageUrl:c,publishedAt:d})=>e.jsx(h,{title:s,description:n,url:c,publicationDate:d},i))})};export{v as default};
