import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{a as h}from"./index.NIGUFBhG.js";import{P as p}from"./index.Bybgw_eu.js";import{G as u}from"./iconBase.BO9dh9lf.js";import{F as g}from"./index.BgMt9673.js";import{r as c}from"./index.BJfUAbRs.js";const j="https://cpanel89007.vercel.app",w=async()=>{try{const{data:s}=await h.get(`${j}/api/school-events/latest`);if(!Array.isArray(s.events))throw new Error("Respuesta invalida del servidor");return s.events}catch{throw new Error("No se pudo obtener los eventos")}};function v(s){return u({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(s)}const N=({title:s,description:n,imageUrl:r,startDate:a,endDate:o,createdAt:t,location:l})=>e.jsxs("article",{className:"w-full bg-white shadow-[0_1px_3px_rgba(0,0,0,0.1),_0_1px_2px_rgba(0,0,0,0.06)] overflow-hidden sm:rounded-xl",children:[e.jsxs("header",{className:"w-full p-3 flex flex-row items-center gap-3",children:[e.jsxs("figure",{className:"bg-white w-[3.5rem] h-[3.5rem] p-1 flex items-center justify-center rounded-full aspect-square border-2 border-[#e2e4e7]",children:[e.jsx("img",{className:"w-full max-w-[1.8rem]",src:"logo.PNG",alt:"Logo de la Institución Educativa N.º 89007"}),e.jsx("figcaption",{className:"sr-only"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("h4",{className:"font-semibold text-base flex flex-row items-center gap-1",children:["Institución Educativa N.º 89007",e.jsx(p,{color:"#0866ff",width:16,height:16})]}),e.jsxs("span",{className:"text-gray-500 text-sm font-semibold",children:["Publicado el"," ",new Date(t).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"})]})]})]}),e.jsx("img",{src:r,alt:s,className:"w-full"}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl text-89007 font-semibold mb-2",children:s}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:n}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(g,{color:"#000",size:20})," ",new Date(a).toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"})]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(v,{color:"#000",size:20})," ",l]})]})]})]}),C=()=>{const[s,n]=c.useState([]),[r,a]=c.useState(!1);return c.useEffect(()=>{(async()=>{a(!r);try{const t=await w();n(t)}catch(t){throw console.error(t),new Error("Error al obtener los eventos")}finally{a(!1)}})()},[]),r?e.jsx("p",{children:"Cargando eventos..."}):e.jsx(e.Fragment,{children:s.map(({id:o,title:t,description:l,location:i,startDate:m,endDate:x,createdAt:d,imageUrl:f})=>e.jsx(N,{title:t,description:l,location:i,startDate:m,endDate:x,createdAt:d,imageUrl:f},o))})};export{C as default};
